<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>tex_sonic</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-5</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>msk_player</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Variables.

    y         = room_height/2; // Center position to the room.
    y_speed   = 0;             // Speed
    y_max     = 4;             // Maximum speed
    y_gravity = 0.30;          // Smooth
    z         = 40;            // "Y" position.
    z_speed   = 0;             // Used for jumping.
    z_grav    = 0.21875;       // Gravity... Obviously.
    z_ground  = 40;            // What "y" position the floor is at.
    global.nice_created = false;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Movement.
 // Remember that due to the 3D camera, the room is rotated 90 degrees.
 // ALSO, you probably wanna adjust this. Maybe use approach() to smoothly move the character left and right.
 
    x += 6;
    if(keyboard_check(global.key_right) &amp;&amp; place_meeting(x, y+8, par_floor))
    {
       y += 4;
    }
    if(keyboard_check(global.key_left) &amp;&amp; place_meeting(x, y-8, par_floor))
    {
       y -= 4;
    }

 // Gravity and Jumping::

    if(z &gt; z_ground)
    {
       z_speed += z_grav;
    } 
    if(z &lt; z_ground)
    {
       z_speed = 0;
       z      = z_ground;
    }
    z -= z_speed;

    if(keyboard_check_pressed(global.key_action) &amp;&amp; z == z_ground)
    {
       z       = z + 1;
       z_speed = -6.5;
    }
    if(!keyboard_check(global.key_action) &amp;&amp; z_speed &lt; -4)
    {
       z_speed = -4;
    }
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// I'm bad at commenting.

if(!instance_exists(obj_nice) &amp;&amp; global.ss_rings = 20)
    {
    instance_create(x,y,obj_nice)
    global.nice_created = true;
    }
    
if(!instance_exists(obj_nice) &amp;&amp; global.ss_rings = 50)
    {
    instance_create(x,y,obj_nice)
    global.nice_created = true;
    }


if(!instance_exists(obj_nice) &amp;&amp; global.ss_rings = 100)
    {
    instance_create(x,y,obj_nice)
    global.nice_created = true;
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw Player.

 // Draw Shadow.
    d3d_set_zwriteenable(false);
    draw_set_alpha(0.5);
    draw_set_color(c_black);
    draw_circle(x, y, 16, false);
    draw_set_color(c_white);
    draw_set_alpha(1);
    d3d_set_zwriteenable(true);

 // Player:
    draw_set_color(c_white);
    d3d_transform_set_identity();
    d3d_transform_add_rotation_x(90);
    d3d_transform_add_rotation_z(point_direction(x,y,obj_camera_new.x, obj_camera_new.y)+90);
    d3d_transform_add_translation(x,y,z-10);
    draw_sprite_ext(sprite_index, -1, 0, 0, 1, 1, 0, c_white, 1);
    d3d_transform_set_identity();

    
 // Animation:    
    if(z != z_ground)
    {
       switch(global.player_id)
       {
       case 1:
       case 4:
           {
           sprite_index = tex_sonic_curl;
           }
       break;
       case 2:
           {
           sprite_index = tex_tails_curl;
           }
       break;
       case 3:
           {
           sprite_index = tex_knuckles_curl;
           }
       break;
       }
       image_speed  = 0.35;
    }
    else
    {
       switch(global.player_id)
       {
       case 1:
       case 4:
           {
           sprite_index = tex_sonic;
           }
       break;
       case 2:
           {
           sprite_index = tex_tails;
           }
       break;
       case 3:
           {
           sprite_index = tex_knuckles;
           }
       break;
       }
       image_speed  = 0.25;
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Restart.

    room_restart();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
